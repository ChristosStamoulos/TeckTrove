# ΠΧ7. Αγορά Προϊόντων

**Πρωτεύων Actor**: Πελάτης  
**Ενδιαφερόμενοι:**
- **Πελάτης**: Θέλει να αγοράσει τα προϊόντα που έχει προσθέσει στο καλάθι(συνθεσεις,εξαρτιματα). 

**Προϋποθέσεις**: Ο Πελάτης έχει ολοκληρώσει με επιτυχία την περίπτωση χρήσης "Ταυτοποίηση Χρήστη" και σε κάποιες περιπτώσεις "Δημιουργία Σύνθεσης". 
## Βασική Ροή

### Α) Αγορά Προϊόντων

1. [Ο Πελάτης αναζητά ένα προϊόν](uc2-product-search.md) που θέλει να προσθέσει στο καλάθι.(Μεμονωμένα εξαρτήματα ή δημοσιευμένες συνθέσεις)
2. Ο Πελάτης επιλέγει ποσότητα προϊόντος και πατάει "Προσθήκη στο καλάθι".
3. Το Σύστημα ελέγχει αν η ποσότητα κάθε εξαρτήματος που επίλεξε ο πελάτης καλύπτεται από το διαθέσιμο απόθεμα.(Μεμονωμένα η σε συνθέσεις)
4. Το Σύστημα προσθέτει το προϊόν  στο καλάθι.
5. Τα βήματα 1-4 επαναλαμβάνονται για όσο ο πελάτης αναζητά προϊόντα .
6. Ο Πελάτης επιλέγει "Αγορά".
7. Το Σύστημα εμφανίζει στο πελάτη τη φόρμα συμπλήρωσης στοιχείων της κάρτας του καθώς και το συνολικό ποσό καλαθιού που απαιτείται να πλερώσει.
8. Ο Πελάτης συμπληρώνει τα στοιχεία του στη φόρμα πληρωμής.(στοιχεία χρέωσης)
9. Το Σύστημα επικυρώνει τα στοιχεία της κάρτας του πελάτη(16-ψιφιος αριθμός κάρτας)
10. Το Σύστημα καταχωρεί την παραγγελία.
11. Το Σύστημα εμφανίζει μήνυμα επιτυχής αγοράς. 


**Εναλλακτικές Ροές**
*1α. Ο Πελάτης δεν επιθυμεί να αγοράσει  άλλο προϊόν .*
1. Η Διαδικασία  κατευθύνεται στο βήμα 6 της βασικής ροής.


*3α. Η ποσότητα ενός η περισσότερων εξαρτημάτων που ο πελάτης απαιτεί δεν μπορεί να καλυφθεί από το διαθέσιμο απόθεμα.*
1. Το σύστημα παροτρύνει τον πελάτη να το αφαιρέσει από το καλάθι του.
2. Ο πελάτης επιλέγει αφαίρεση του προϊόντος.
3. Το Σύστημα το αφαιρεί από το καλάθι.
4. Η ΠΧ επιστρέφει στο βήμα 1 της βασικής ροής.


*2α / 6α / 8α. Η επιθυμία του πελάτη για αγορά παύει να υφίσταται.*
1. Ο πελάτης  επιλέγει "ακύρωση".
2. Η ΠΧ τερματίζει.

*6β. Ο Πελάτης επιθυμεί να αφαιρέσει προϊόντα  από το καλάθι.*
1. Ο πελάτης επιλέγει αφαίρεση του προϊόντος .
2. Το Σύστημα το αφαιρεί από το καλάθι.
3. Η ΠΧ επιστρέφει στο βήμα 6 της βασικής ροής.

*7α. Το καλάθι του πελάτη είναι άδειο.*
1. Το Σύστημα εμφανίζει κατάλληλο μήνυμα.
2. Ο Πελάτης επιλέγει "ΟΚ".
3. Η ΠΧ τερματίζει.

*8β. Δεν έχει γίνει εισαγωγή κάποιου από τα υποχρεωτικά στοιχεία.*
1. Το Σύστημα εμφανίζει κατάλληλο μήνυμα σφάλματος.
2. Ο Πελάτης επιλέγει "ΟΚ".
3. Η ΠΧ επιστρέφει στο βήμα 8 της βασικής ροής.

*9α Τα στοιχεία κάρτας του πελάτη είναι λανθασμένα*
1. Το σύστημα εμφανίζει στον πελάτη μήνυμα σφάλματος.
2. Ο Πελάτης επιλέγει "ΟΚ".
3. Η ΠΧ επιστρέφει στο βήμα 8 της βασικής ροής.


*Σε οποιοδήποτε σημείο το λογισμικό καταρρέει.
1. Ο Πελάτης επανεκκινεί την εφαρμογή. 
2. Η Διαδικασία επιστρέφει στο βήμα 2 της ΠΧ1.


## Διάγραμμα
![Διάγραμμα]()